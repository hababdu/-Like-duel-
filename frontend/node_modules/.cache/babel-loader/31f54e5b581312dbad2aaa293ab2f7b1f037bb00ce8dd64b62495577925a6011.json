{"ast":null,"code":"var _jsxFileName = \"/Users/habibullo/Desktop/like-duel/frontend/src/pages/ChatPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useSocket } from '../contexts/SocketContext';\nimport { useGame } from '../contexts/GameContext';\nimport toast from 'react-hot-toast';\n\n// Components\nimport ChatSidebar from '../components/chat/ChatSidebar';\nimport ChatRoom from '../components/chat/ChatRoom';\nimport CreateChatModal from '../components/chat/CreateChatModal';\nimport InviteToChatModal from '../components/chat/InviteToChatModal';\n\n// Icons\nimport { FaComments, FaUsers, FaPlus, FaSearch, FaGamepad, FaUserFriends, FaHashtag, FaCog, FaBell, FaBellSlash } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user,\n    isAuthenticated\n  } = useAuth();\n  const {\n    sendChatMessage,\n    addFriend\n  } = useGame();\n  const {\n    isConnected\n  } = useSocket();\n  const [activeRoom, setActiveRoom] = useState(null);\n  const [rooms, setRooms] = useState([]);\n  const [friends, setFriends] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showInviteModal, setShowInviteModal] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [notificationsEnabled, setNotificationsEnabled] = useState(true);\n\n  // Load chat data\n  useEffect(() => {\n    const loadChatData = () => {\n      if (!isAuthenticated) return;\n      try {\n        // Load rooms from localStorage\n        const savedRooms = JSON.parse(localStorage.getItem('chatRooms') || '[]');\n        setRooms(savedRooms);\n\n        // Load friends\n        const savedFriends = JSON.parse(localStorage.getItem('friends') || '[]');\n        setFriends(savedFriends);\n\n        // Set first room as active\n        if (savedRooms.length > 0 && !activeRoom) {\n          setActiveRoom(savedRooms[0]);\n        }\n\n        // Load notifications setting\n        const notifications = localStorage.getItem('chatNotifications') !== 'false';\n        setNotificationsEnabled(notifications);\n      } catch (error) {\n        console.error('Chat data loading error:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadChatData();\n\n    // Poll for updates\n    const interval = setInterval(loadChatData, 10000);\n    return () => clearInterval(interval);\n  }, [isAuthenticated, activeRoom]);\n\n  // Handle room selection\n  const handleSelectRoom = room => {\n    setActiveRoom(room);\n\n    // Mark as read\n    if (room.unreadCount > 0) {\n      const updatedRooms = rooms.map(r => r.id === room.id ? {\n        ...r,\n        unreadCount: 0\n      } : r);\n      setRooms(updatedRooms);\n      localStorage.setItem('chatRooms', JSON.stringify(updatedRooms));\n    }\n  };\n\n  // Handle send message\n  const handleSendMessage = async (text, type = 'text') => {\n    if (!activeRoom || !text.trim() || !isConnected) return;\n    try {\n      await sendChatMessage(activeRoom.id, text, type);\n\n      // Update room last message\n      const updatedRooms = rooms.map(room => {\n        if (room.id === activeRoom.id) {\n          return {\n            ...room,\n            lastMessage: {\n              text,\n              sender: user.firstName,\n              timestamp: new Date()\n            },\n            unreadCount: 0\n          };\n        }\n        return room;\n      });\n      setRooms(updatedRooms);\n      localStorage.setItem('chatRooms', JSON.stringify(updatedRooms));\n    } catch (error) {\n      toast.error('Xabar yuborishda xatolik');\n    }\n  };\n\n  // Handle create room\n  const handleCreateRoom = roomData => {\n    const newRoom = {\n      id: `room_${Date.now()}`,\n      name: roomData.name,\n      type: roomData.type,\n      description: roomData.description,\n      participants: roomData.participants || [],\n      lastMessage: null,\n      unreadCount: 0,\n      createdAt: new Date(),\n      createdBy: user.id\n    };\n    const updatedRooms = [newRoom, ...rooms];\n    setRooms(updatedRooms);\n    setActiveRoom(newRoom);\n    localStorage.setItem('chatRooms', JSON.stringify(updatedRooms));\n    toast.success('Chat yaratildi');\n  };\n\n  // Handle invite to chat\n  const handleInviteToChat = async friendIds => {\n    if (!activeRoom) return;\n    try {\n      // Add participants to room\n      const updatedRoom = {\n        ...activeRoom,\n        participants: [...activeRoom.participants, ...friendIds]\n      };\n      const updatedRooms = rooms.map(room => room.id === activeRoom.id ? updatedRoom : room);\n      setRooms(updatedRooms);\n      setActiveRoom(updatedRoom);\n      localStorage.setItem('chatRooms', JSON.stringify(updatedRooms));\n      toast.success('Dostlar chatga taklif qilindi');\n    } catch (error) {\n      toast.error('Taklif yuborishda xatolik');\n    }\n  };\n\n  // Handle add friend\n  const handleAddFriend = async friendId => {\n    try {\n      await addFriend(friendId, 'add');\n      toast.success('Dostlik sorovi yuborildi');\n    } catch (error) {\n      toast.error(error.message);\n    }\n  };\n\n  // Handle search\n  const handleSearch = query => {\n    setSearchQuery(query);\n  };\n\n  // Toggle notifications\n  const toggleNotifications = () => {\n    const newValue = !notificationsEnabled;\n    setNotificationsEnabled(newValue);\n    localStorage.setItem('chatNotifications', newValue.toString());\n    toast(newValue ? 'Chat bildirishnomalari yoqildi' : 'Chat bildirishnomalari ochirildi');\n  };\n\n  // Filter rooms based on search\n  const filteredRooms = rooms.filter(room => {\n    var _room$description;\n    if (!searchQuery) return true;\n    return room.name.toLowerCase().includes(searchQuery.toLowerCase()) || ((_room$description = room.description) === null || _room$description === void 0 ? void 0 : _room$description.toLowerCase().includes(searchQuery.toLowerCase()));\n  });\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-not-authenticated\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-prompt\",\n        children: [/*#__PURE__*/_jsxDEV(FaComments, {\n          size: 64\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Chat uchun kiring\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Do'stlaringiz bilan suhbatlashish uchun tizimga kiring\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary\",\n          onClick: () => navigate('/'),\n          children: \"Kirish\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Chat yuklanmoqda...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    },\n    className: \"chat-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      children: [/*#__PURE__*/_jsxDEV(ChatSidebar, {\n        rooms: filteredRooms,\n        friends: friends,\n        activeRoom: activeRoom,\n        onSelectRoom: handleSelectRoom,\n        onAddFriend: handleAddFriend,\n        onSearch: handleSearch,\n        onToggleNotifications: toggleNotifications,\n        notificationsEnabled: notificationsEnabled,\n        onCreateRoom: () => setShowCreateModal(true),\n        onInviteToChat: () => setShowInviteModal(true),\n        searchQuery: searchQuery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-main\",\n        children: activeRoom ? /*#__PURE__*/_jsxDEV(ChatRoom, {\n          room: activeRoom,\n          user: user,\n          onSendMessage: handleSendMessage,\n          onInvite: () => setShowInviteModal(true),\n          disabled: !isConnected\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-welcome\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"welcome-content\",\n            children: [/*#__PURE__*/_jsxDEV(FaComments, {\n              size: 48\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Chatga xush kelibsiz!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Chat qilishni boshlash uchun chapdagi chatni tanlang yoki yangi chat yarating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"welcome-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-primary\",\n                onClick: () => setShowCreateModal(true),\n                children: [/*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 21\n                }, this), \" Yangi chat\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-secondary\",\n                onClick: () => navigate('/friends'),\n                children: [/*#__PURE__*/_jsxDEV(FaUserFriends, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 21\n                }, this), \" Do'st qo'shish\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: [showCreateModal && /*#__PURE__*/_jsxDEV(CreateChatModal, {\n        friends: friends,\n        onCreate: handleCreateRoom,\n        onClose: () => setShowCreateModal(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this), showInviteModal && activeRoom && /*#__PURE__*/_jsxDEV(InviteToChatModal, {\n        room: activeRoom,\n        friends: friends,\n        onInvite: handleInviteToChat,\n        onClose: () => setShowInviteModal(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatPage, \"OVpxeYUSHiop+zsVWRyNKgHPDUI=\", false, function () {\n  return [useNavigate, useAuth, useGame, useSocket];\n});\n_c = ChatPage;\nexport default ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","motion","AnimatePresence","useAuth","useSocket","useGame","toast","ChatSidebar","ChatRoom","CreateChatModal","InviteToChatModal","FaComments","FaUsers","FaPlus","FaSearch","FaGamepad","FaUserFriends","FaHashtag","FaCog","FaBell","FaBellSlash","jsxDEV","_jsxDEV","ChatPage","_s","navigate","user","isAuthenticated","sendChatMessage","addFriend","isConnected","activeRoom","setActiveRoom","rooms","setRooms","friends","setFriends","searchQuery","setSearchQuery","showCreateModal","setShowCreateModal","showInviteModal","setShowInviteModal","loading","setLoading","notificationsEnabled","setNotificationsEnabled","loadChatData","savedRooms","JSON","parse","localStorage","getItem","savedFriends","length","notifications","error","console","interval","setInterval","clearInterval","handleSelectRoom","room","unreadCount","updatedRooms","map","r","id","setItem","stringify","handleSendMessage","text","type","trim","lastMessage","sender","firstName","timestamp","Date","handleCreateRoom","roomData","newRoom","now","name","description","participants","createdAt","createdBy","success","handleInviteToChat","friendIds","updatedRoom","handleAddFriend","friendId","message","handleSearch","query","toggleNotifications","newValue","toString","filteredRooms","filter","_room$description","toLowerCase","includes","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","div","initial","opacity","animate","exit","onSelectRoom","onAddFriend","onSearch","onToggleNotifications","onCreateRoom","onInviteToChat","onSendMessage","onInvite","disabled","onCreate","onClose","_c","$RefreshReg$"],"sources":["/Users/habibullo/Desktop/like-duel/frontend/src/pages/ChatPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useSocket } from '../contexts/SocketContext';\nimport { useGame } from '../contexts/GameContext';\nimport toast from 'react-hot-toast';\n\n// Components\nimport ChatSidebar from '../components/chat/ChatSidebar';\nimport ChatRoom from '../components/chat/ChatRoom';\nimport CreateChatModal from '../components/chat/CreateChatModal';\nimport InviteToChatModal from '../components/chat/InviteToChatModal';\n\n// Icons\nimport {\n  FaComments,\n  FaUsers,\n  FaPlus,\n  FaSearch,\n  FaGamepad,\n  FaUserFriends,\n  FaHashtag,\n  FaCog,\n  FaBell,\n  FaBellSlash\n} from 'react-icons/fa';\n\nconst ChatPage = () => {\n  const navigate = useNavigate();\n  const { user, isAuthenticated } = useAuth();\n  const { sendChatMessage, addFriend } = useGame();\n  const { isConnected } = useSocket();\n  \n  const [activeRoom, setActiveRoom] = useState(null);\n  const [rooms, setRooms] = useState([]);\n  const [friends, setFriends] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showInviteModal, setShowInviteModal] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [notificationsEnabled, setNotificationsEnabled] = useState(true);\n\n  // Load chat data\n  useEffect(() => {\n    const loadChatData = () => {\n      if (!isAuthenticated) return;\n      \n      try {\n        // Load rooms from localStorage\n        const savedRooms = JSON.parse(localStorage.getItem('chatRooms') || '[]');\n        setRooms(savedRooms);\n        \n        // Load friends\n        const savedFriends = JSON.parse(localStorage.getItem('friends') || '[]');\n        setFriends(savedFriends);\n        \n        // Set first room as active\n        if (savedRooms.length > 0 && !activeRoom) {\n          setActiveRoom(savedRooms[0]);\n        }\n        \n        // Load notifications setting\n        const notifications = localStorage.getItem('chatNotifications') !== 'false';\n        setNotificationsEnabled(notifications);\n        \n      } catch (error) {\n        console.error('Chat data loading error:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadChatData();\n    \n    // Poll for updates\n    const interval = setInterval(loadChatData, 10000);\n    return () => clearInterval(interval);\n  }, [isAuthenticated, activeRoom]);\n\n  // Handle room selection\n  const handleSelectRoom = (room) => {\n    setActiveRoom(room);\n    \n    // Mark as read\n    if (room.unreadCount > 0) {\n      const updatedRooms = rooms.map(r => \n        r.id === room.id ? { ...r, unreadCount: 0 } : r\n      );\n      setRooms(updatedRooms);\n      localStorage.setItem('chatRooms', JSON.stringify(updatedRooms));\n    }\n  };\n\n  // Handle send message\n  const handleSendMessage = async (text, type = 'text') => {\n    if (!activeRoom || !text.trim() || !isConnected) return;\n    \n    try {\n      await sendChatMessage(activeRoom.id, text, type);\n      \n      // Update room last message\n      const updatedRooms = rooms.map(room => {\n        if (room.id === activeRoom.id) {\n          return {\n            ...room,\n            lastMessage: {\n              text,\n              sender: user.firstName,\n              timestamp: new Date()\n            },\n            unreadCount: 0\n          };\n        }\n        return room;\n      });\n      \n      setRooms(updatedRooms);\n      localStorage.setItem('chatRooms', JSON.stringify(updatedRooms));\n      \n    } catch (error) {\n      toast.error('Xabar yuborishda xatolik');\n    }\n  };\n\n  // Handle create room\n  const handleCreateRoom = (roomData) => {\n    const newRoom = {\n      id: `room_${Date.now()}`,\n      name: roomData.name,\n      type: roomData.type,\n      description: roomData.description,\n      participants: roomData.participants || [],\n      lastMessage: null,\n      unreadCount: 0,\n      createdAt: new Date(),\n      createdBy: user.id\n    };\n    \n    const updatedRooms = [newRoom, ...rooms];\n    setRooms(updatedRooms);\n    setActiveRoom(newRoom);\n    localStorage.setItem('chatRooms', JSON.stringify(updatedRooms));\n    \n    toast.success('Chat yaratildi');\n  };\n\n  // Handle invite to chat\n  const handleInviteToChat = async (friendIds) => {\n    if (!activeRoom) return;\n    \n    try {\n      // Add participants to room\n      const updatedRoom = {\n        ...activeRoom,\n        participants: [...activeRoom.participants, ...friendIds]\n      };\n      \n      const updatedRooms = rooms.map(room => \n        room.id === activeRoom.id ? updatedRoom : room\n      );\n      \n      setRooms(updatedRooms);\n      setActiveRoom(updatedRoom);\n      localStorage.setItem('chatRooms', JSON.stringify(updatedRooms));\n      \n      toast.success('Dostlar chatga taklif qilindi');\n    } catch (error) {\n      toast.error('Taklif yuborishda xatolik');\n    }\n  };\n\n  // Handle add friend\n  const handleAddFriend = async (friendId) => {\n    try {\n      await addFriend(friendId, 'add');\n      toast.success('Dostlik sorovi yuborildi');\n    } catch (error) {\n      toast.error(error.message);\n    }\n  };\n\n  // Handle search\n  const handleSearch = (query) => {\n    setSearchQuery(query);\n  };\n\n  // Toggle notifications\n  const toggleNotifications = () => {\n    const newValue = !notificationsEnabled;\n    setNotificationsEnabled(newValue);\n    localStorage.setItem('chatNotifications', newValue.toString());\n    \n    toast(newValue ? 'Chat bildirishnomalari yoqildi' : 'Chat bildirishnomalari ochirildi');\n  };\n\n  // Filter rooms based on search\n  const filteredRooms = rooms.filter(room => {\n    if (!searchQuery) return true;\n    \n    return (\n      room.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      room.description?.toLowerCase().includes(searchQuery.toLowerCase())\n    );\n  });\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"chat-not-authenticated\">\n        <div className=\"auth-prompt\">\n          <FaComments size={64} />\n          <h2>Chat uchun kiring</h2>\n          <p>Do'stlaringiz bilan suhbatlashish uchun tizimga kiring</p>\n          <button \n            className=\"btn-primary\"\n            onClick={() => navigate('/')}\n          >\n            Kirish\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"chat-loading\">\n        <div className=\"loading-spinner\" />\n        <p>Chat yuklanmoqda...</p>\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className=\"chat-page\"\n    >\n      <div className=\"chat-container\">\n        {/* Chat sidebar */}\n        <ChatSidebar\n          rooms={filteredRooms}\n          friends={friends}\n          activeRoom={activeRoom}\n          onSelectRoom={handleSelectRoom}\n          onAddFriend={handleAddFriend}\n          onSearch={handleSearch}\n          onToggleNotifications={toggleNotifications}\n          notificationsEnabled={notificationsEnabled}\n          onCreateRoom={() => setShowCreateModal(true)}\n          onInviteToChat={() => setShowInviteModal(true)}\n          searchQuery={searchQuery}\n        />\n\n        {/* Chat main area */}\n        <div className=\"chat-main\">\n          {activeRoom ? (\n            <ChatRoom\n              room={activeRoom}\n              user={user}\n              onSendMessage={handleSendMessage}\n              onInvite={() => setShowInviteModal(true)}\n              disabled={!isConnected}\n            />\n          ) : (\n            <div className=\"chat-welcome\">\n              <div className=\"welcome-content\">\n                <FaComments size={48} />\n                <h2>Chatga xush kelibsiz!</h2>\n                <p>Chat qilishni boshlash uchun chapdagi chatni tanlang yoki yangi chat yarating</p>\n                \n                <div className=\"welcome-actions\">\n                  <button\n                    className=\"btn-primary\"\n                    onClick={() => setShowCreateModal(true)}\n                  >\n                    <FaPlus /> Yangi chat\n                  </button>\n                  \n                  <button\n                    className=\"btn-secondary\"\n                    onClick={() => navigate('/friends')}\n                  >\n                    <FaUserFriends /> Do'st qo'shish\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Modals */}\n      <AnimatePresence>\n        {showCreateModal && (\n          <CreateChatModal\n            friends={friends}\n            onCreate={handleCreateRoom}\n            onClose={() => setShowCreateModal(false)}\n          />\n        )}\n        \n        {showInviteModal && activeRoom && (\n          <InviteToChatModal\n            room={activeRoom}\n            friends={friends}\n            onInvite={handleInviteToChat}\n            onClose={() => setShowInviteModal(false)}\n          />\n        )}\n      </AnimatePresence>\n    </motion.div>\n  );\n};\n\nexport default ChatPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}